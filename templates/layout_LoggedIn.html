<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% block title %}BudgetBuddy{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">


    {% block extra_css %}{% endblock %}

    <style> 
        :root {
        --primary: #0d6efd;
        --accent: #41b8d5;
        --success: #198754;
        --danger: #dc3545;
        --warning: #ffc107;
        --info: #0dcaf0;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --bg-light: #f8fafc;
        --border: #e2e8f0;
    }

        body {
            background-color: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .sidebar {
            width: 250px;
            position: fixed;
            height: 100vh;
            background-color: #212529;
            color: #fff;
            padding: 1.5rem 1rem;
        }

        .sidebar .nav-link {
            color: #bbb;
            margin: 5px 0;
            border-radius: 5px;
            transition: 0.3s;
        }

        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            background-color: #0d6efd;
            color: #fff;
        }

        .content {
            margin-left: 260px;
            padding: 2rem;
            flex: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);
        }

        .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(13, 110, 253, 0.4);
        background: linear-gradient(135deg, #0b5ed7, #0ba5a5);
        color: white;
        }

        .btn-secondary {
        background: var(--text-secondary);
        color: white;
        }

        .btn-secondary:hover {
        background: #5a6b7a;
        color: white;
        transform: translateY(-2px);
        }

        @media (max-width: 992px) {
            .content {
                margin-left: 0;
                padding: 1rem;
            }
        }
    </style>

    


</head>

<body>

<!-- Mobile toggle -->
<div class="d-lg-none p-2 bg-dark text-white">
    <button class="btn btn-primary" data-bs-toggle="offcanvas" data-bs-target="#mobileSidebar">
        Menu
    </button>
</div>

<!-- DESKTOP SIDEBAR -->
<nav class="sidebar d-none d-lg-block">
    <div class="d-flex align-items-center mb-4">
        <a href="/profile" class="me-2">
            <img src="{{ current_user.profile_picture or 'https://img.icons8.com/?size=100&id=103539&format=png&color=000000' }}"
                 class="rounded-circle" width="40" height="40">
        </a>
        <h4 class="fw-bold text-white m-0">BudgetBuddy</h4>
    </div>

               <ul class="nav flex-column">
                <li class="nav-item">
                    <a href="/dashboard" class="nav-link d-flex align-items-center {% if request.path == '/dashboard' %}active{% endif %}">

                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="me-2">
                            <path d="M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1" />
                            <path d="M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1" />
                            <path d="M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1" />
                            <path d="M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1" />
                        </svg>

                        <span>Dashboard</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="/transactions" class="nav-link d-flex align-items-center {% if request.path == '/transactions' %}active{% endif %}">

                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="me-2">
                            <path d="M12 19h-6a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5" />
                            <path d="M3 10h18" />
                            <path d="M16 19h6" />
                            <path d="M19 16l3 3l-3 3" />
                            <path d="M7.005 15h.005" />
                            <path d="M11 15h2" />
                        </svg>

                        <span>Transactions</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="/analytics" class="nav-link d-flex align-items-center {% if request.path == '/analytics' %}active{% endif %}">

                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="me-2">
                            <path d="M3 4m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z" />
                            <path d="M7 20l10 0" />
                            <path d="M9 16l0 4" />
                            <path d="M15 16l0 4" />
                            <path d="M8 12l3 -3l2 2l3 -3" />
                        </svg>

                        <span>Chart & Analytics</span>
                    </a>
                </li>



                <li class="nav-item">
                    <a href="/profile" class="nav-link d-flex align-items-center {% if request.path == '/profile' %}active{% endif %}">

                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="me-2">
                            <path d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        </svg>

                        <span>Profile</span>
                    </a>
                </li>


            </ul>

    <hr class="border-light">
    <a href="/logout" class="btn btn-outline-light w-100 mt-3">Logout</a>
</nav>

<!-- MOBILE SIDEBAR -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="mobileSidebar">
    <div class="offcanvas-header bg-dark text-white">
        <h5 class="offcanvas-title">BudgetBuddy</h5>
        <button class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="nav flex-column">
            <li><a href="/dashboard" class="nav-link">Dashboard</a></li>
            <li><a href="/transactions" class="nav-link">Transactions</a></li>
            <li><a href="/analytics" class="nav-link">Analytics</a></li>
            <li><a href="/profile" class="nav-link">Profile</a></li>
        </ul>
        <a href="/logout" class="btn btn-outline-dark w-100 mt-3">Logout</a>
    </div>
</div>

<!-- MAIN CONTENT -->
<div class="content">
    <div class="container-fluid">

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>
</div>

<footer class="text-center py-3 bg-dark text-light mt-4">
    &copy; {{ current_year or 2025 }} BudgetBuddy
</footer>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% block scripts %}{% endblock %}
{% block extra_js %}{% endblock %}

</body>
</html>
