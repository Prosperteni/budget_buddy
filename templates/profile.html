{% extends "layout_LoggedIn.html" %}

{% block title %}Profile | BudgetBuddy{% endblock %}

{% block content %}

<!-- Header -->
<div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3">
    <div>
        <h1 class="fw-bold text-primary">Profile</h1>
        <p class="text-muted mb-0">Manage your personal information and account settings.</p>
    </div>

    <a href="/download_report" class="btn btn-primary fw-bold">
        Download PDF Report
    </a>
</div>

<!-- Profile Picture -->
<div class="card shadow-sm border-0 mb-4">
    <div class="card-header bg-dark text-white">
        <h6 class="mb-0">Profile Picture</h6>
    </div>
    <div class="card-body text-center">
        <img src="{{ current_user.profile_picture or 'https://img.icons8.com/?size=100&id=103539&format=png&color=000000' }}"
             class="rounded-circle mb-3" width="120" height="120">
        <button class="btn btn-primary">Change Picture</button>
    </div>
</div>

<!-- Personal Info -->
<div class="card shadow-sm border-0 mb-4">
    <div class="card-header bg-primary text-white">
        <h6 class="mb-0">Personal Information</h6>
    </div>
    <div class="card-body">
        <form method="POST">
            <input class="form-control mb-3" name="username" value="{{ current_user.username }}">
            <input class="form-control mb-3" name="email" value="{{ current_user.email }}">
            <textarea class="form-control mb-3" name="bio">{{ current_user.bio }}</textarea>
            <button class="btn btn-success">Save Changes</button>
        </form>
    </div>
</div>

<!-- Change Password -->
<div class="card shadow-sm border-0 mb-4">
    <div class="card-header bg-secondary text-white">
        <h6 class="mb-0">Change Password</h6>
    </div>
    <div class="card-body">
        <form method="POST" action="/change_password">
            <input type="password" class="form-control mb-3" name="old_password" placeholder="Old password">
            <input type="password" class="form-control mb-3" name="new_password" placeholder="New password">
            <input type="password" class="form-control mb-3" name="confirm_new_password" placeholder="Confirm password">
            <button class="btn btn-warning">Change Password</button>
        </form>
    </div>
</div>

{% endblock %}
